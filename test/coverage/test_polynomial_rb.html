<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang='en' xml:lang='en' xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>
      test_polynomial.rb - C0 code coverage information
    </title>
    <style type='text/css'>
      body { background-color: rgb(240, 240, 245); }
    </style>
    <style type='text/css'>
      span.cross-ref-title { font-size: 140%; } span.cross-ref a {
      text-decoration: none; } span.cross-ref { background-color:#f3f7fa;
      border: 1px dashed #333; margin: 1em; padding: 0.5em; overflow: hidden; }
      a.crossref-toggle { text-decoration: none; } span.marked0 {
      background-color: rgb(185, 210, 200); display: block; } span.marked1 {
      background-color: rgb(190, 215, 205); display: block; } span.inferred0 {
      background-color: rgb(175, 200, 200); display: block; } span.inferred1 {
      background-color: rgb(180, 205, 205); display: block; } span.uncovered0 {
      background-color: rgb(225, 110, 110); display: block; } span.uncovered1 {
      background-color: rgb(235, 120, 120); display: block; } span.overview {
      border-bottom: 8px solid black; } div.overview { border-bottom: 8px solid
      black; } body { font-family: verdana, arial, helvetica; } div.footer {
      font-size: 68%; margin-top: 1.5em; } h1, h2, h3, h4, h5, h6 {
      margin-bottom: 0.5em; } h5 { margin-top: 0.5em; } .hidden { display: none;
      } div.separator { height: 10px; } /* Commented out for better readability,
      esp. on IE */ /* table tr td, table tr th { font-size: 68%; } td.value
      table tr td { font-size: 11px; } */ table.percent_graph { height: 12px;
      border: #808080 1px solid; empty-cells: show; } table.percent_graph
      td.covered { height: 10px; background: #00f000; } table.percent_graph
      td.uncovered { height: 10px; background: #e00000; } table.percent_graph
      td.NA { height: 10px; background: #eaeaea; } table.report {
      border-collapse: collapse; width: 100%; } table.report td.heading {
      background: #dcecff; border: #d0d0d0 1px solid; font-weight: bold;
      text-align: center; } table.report td.heading:hover { background: #c0ffc0;
      } table.report td.text { border: #d0d0d0 1px solid; } table.report
      td.value, table.report td.lines_total, table.report td.lines_code {
      text-align: right; border: #d0d0d0 1px solid; } table.report tr.light {
      background-color: rgb(240, 240, 245); } table.report tr.dark {
      background-color: rgb(230, 230, 235); } 
    </style>
    <script type='text/javascript'>
       // <![CDATA[ function toggleCode( id ) { if ( document.getElementById )
      elem = document.getElementById( id ); else if ( document.all ) elem =
      eval( "document.all." + id ); else return false; elemStyle = elem.style;
      if ( elemStyle.display != "block" ) { elemStyle.display = "block" } else {
      elemStyle.display = "none" } return true; } // Make cross-references
      hidden by default document.writeln( "<style
      type=\"text/css\">span.cross-ref { display: none }</style>" ) // ]]> 
    </script>
    <style type='text/css'>
      span.run0 { background-color: rgb(178, 204, 255); display: block; }
      span.run1 { background-color: rgb(178, 206, 255); display: block; }
      span.run2 { background-color: rgb(178, 209, 255); display: block; }
      span.run3 { background-color: rgb(178, 211, 255); display: block; }
      span.run4 { background-color: rgb(178, 214, 255); display: block; }
      span.run5 { background-color: rgb(178, 218, 255); display: block; }
      span.run6 { background-color: rgb(178, 220, 255); display: block; }
      span.run7 { background-color: rgb(178, 223, 255); display: block; }
      span.run8 { background-color: rgb(178, 225, 255); display: block; }
      span.run9 { background-color: rgb(178, 228, 255); display: block; }
      span.run10 { background-color: rgb(178, 232, 255); display: block; }
      span.run11 { background-color: rgb(178, 234, 255); display: block; }
      span.run12 { background-color: rgb(178, 237, 255); display: block; }
      span.run13 { background-color: rgb(178, 239, 255); display: block; }
      span.run14 { background-color: rgb(178, 242, 255); display: block; }
      span.run15 { background-color: rgb(178, 246, 255); display: block; }
      span.run16 { background-color: rgb(178, 248, 255); display: block; }
      span.run17 { background-color: rgb(178, 251, 255); display: block; }
      span.run18 { background-color: rgb(178, 253, 255); display: block; }
      span.run19 { background-color: rgb(178, 255, 253); display: block; }
      span.run20 { background-color: rgb(178, 255, 249); display: block; }
      span.run21 { background-color: rgb(178, 255, 247); display: block; }
      span.run22 { background-color: rgb(178, 255, 244); display: block; }
      span.run23 { background-color: rgb(178, 255, 242); display: block; }
      span.run24 { background-color: rgb(178, 255, 239); display: block; }
      span.run25 { background-color: rgb(178, 255, 235); display: block; }
      span.run26 { background-color: rgb(178, 255, 233); display: block; }
      span.run27 { background-color: rgb(178, 255, 230); display: block; }
      span.run28 { background-color: rgb(178, 255, 228); display: block; }
      span.run29 { background-color: rgb(178, 255, 225); display: block; }
      span.run30 { background-color: rgb(178, 255, 221); display: block; }
      span.run31 { background-color: rgb(178, 255, 219); display: block; }
      span.run32 { background-color: rgb(178, 255, 216); display: block; }
      span.run33 { background-color: rgb(178, 255, 214); display: block; }
      span.run34 { background-color: rgb(178, 255, 211); display: block; }
      span.run35 { background-color: rgb(178, 255, 207); display: block; }
      span.run36 { background-color: rgb(178, 255, 205); display: block; }
      span.run37 { background-color: rgb(178, 255, 202); display: block; }
      span.run38 { background-color: rgb(178, 255, 200); display: block; }
      span.run39 { background-color: rgb(178, 255, 197); display: block; }
      span.run40 { background-color: rgb(178, 255, 193); display: block; }
      span.run41 { background-color: rgb(178, 255, 191); display: block; }
      span.run42 { background-color: rgb(178, 255, 188); display: block; }
      span.run43 { background-color: rgb(178, 255, 186); display: block; }
      span.run44 { background-color: rgb(178, 255, 183); display: block; }
      span.run45 { background-color: rgb(178, 255, 179); display: block; }
      span.run46 { background-color: rgb(179, 255, 178); display: block; }
      span.run47 { background-color: rgb(182, 255, 178); display: block; }
      span.run48 { background-color: rgb(184, 255, 178); display: block; }
      span.run49 { background-color: rgb(187, 255, 178); display: block; }
      span.run50 { background-color: rgb(191, 255, 178); display: block; }
      span.run51 { background-color: rgb(193, 255, 178); display: block; }
      span.run52 { background-color: rgb(196, 255, 178); display: block; }
      span.run53 { background-color: rgb(198, 255, 178); display: block; }
      span.run54 { background-color: rgb(201, 255, 178); display: block; }
      span.run55 { background-color: rgb(205, 255, 178); display: block; }
      span.run56 { background-color: rgb(207, 255, 178); display: block; }
      span.run57 { background-color: rgb(210, 255, 178); display: block; }
      span.run58 { background-color: rgb(212, 255, 178); display: block; }
      span.run59 { background-color: rgb(215, 255, 178); display: block; }
      span.run60 { background-color: rgb(219, 255, 178); display: block; }
      span.run61 { background-color: rgb(221, 255, 178); display: block; }
      span.run62 { background-color: rgb(224, 255, 178); display: block; }
      span.run63 { background-color: rgb(226, 255, 178); display: block; }
      span.run64 { background-color: rgb(229, 255, 178); display: block; }
      span.run65 { background-color: rgb(233, 255, 178); display: block; }
      span.run66 { background-color: rgb(235, 255, 178); display: block; }
      span.run67 { background-color: rgb(238, 255, 178); display: block; }
      span.run68 { background-color: rgb(240, 255, 178); display: block; }
      span.run69 { background-color: rgb(243, 255, 178); display: block; }
      span.run70 { background-color: rgb(247, 255, 178); display: block; }
      span.run71 { background-color: rgb(249, 255, 178); display: block; }
      span.run72 { background-color: rgb(252, 255, 178); display: block; }
      span.run73 { background-color: rgb(255, 255, 178); display: block; }
      span.run74 { background-color: rgb(255, 252, 178); display: block; }
      span.run75 { background-color: rgb(255, 248, 178); display: block; }
      span.run76 { background-color: rgb(255, 246, 178); display: block; }
      span.run77 { background-color: rgb(255, 243, 178); display: block; }
      span.run78 { background-color: rgb(255, 240, 178); display: block; }
      span.run79 { background-color: rgb(255, 238, 178); display: block; }
      span.run80 { background-color: rgb(255, 234, 178); display: block; }
      span.run81 { background-color: rgb(255, 232, 178); display: block; }
      span.run82 { background-color: rgb(255, 229, 178); display: block; }
      span.run83 { background-color: rgb(255, 226, 178); display: block; }
      span.run84 { background-color: rgb(255, 224, 178); display: block; }
      span.run85 { background-color: rgb(255, 220, 178); display: block; }
      span.run86 { background-color: rgb(255, 218, 178); display: block; }
      span.run87 { background-color: rgb(255, 215, 178); display: block; }
      span.run88 { background-color: rgb(255, 212, 178); display: block; }
      span.run89 { background-color: rgb(255, 210, 178); display: block; }
      span.run90 { background-color: rgb(255, 206, 178); display: block; }
      span.run91 { background-color: rgb(255, 204, 178); display: block; }
      span.run92 { background-color: rgb(255, 201, 178); display: block; }
      span.run93 { background-color: rgb(255, 198, 178); display: block; }
      span.run94 { background-color: rgb(255, 196, 178); display: block; }
      span.run95 { background-color: rgb(255, 192, 178); display: block; }
      span.run96 { background-color: rgb(255, 189, 178); display: block; }
      span.run97 { background-color: rgb(255, 187, 178); display: block; }
      span.run98 { background-color: rgb(255, 184, 178); display: block; }
      span.run99 { background-color: rgb(255, 182, 178); display: block; }
      span.run100 { background-color: rgb(255, 178, 178); display: block; } 
    </style>
  </head>
  <body>
    <h3>
      C0 code coverage information
    </h3>
    <p>
      Generated on Mon Jun 22 03:54:39 -0300 2009 with 
      <a href='http://eigenclass.org/hiki/rcov'>
        rcov 0.8.1.2
      </a>
    </p>
    <hr />
    <pre><span class='marked0'>Code reported as executed by Ruby looks like
    this... </span><span class='marked1'>and this: this line is also marked as
    covered. </span><span class='inferred0'>Lines considered as run by rcov, but
    not reported by Ruby, look like this, </span><span class='inferred1'>and
    this: these lines were inferred by rcov (using simple heuristics).
    </span><span class='uncovered0'>Finally, here&apos;s a line marked as not
    executed. </span></pre> 
    <table class='report'> <thead> <tr> <td class='heading'> Name </td> <td
    class='heading'> Total lines </td> <td class='heading'> Lines of code </td>
    <td class='heading'> Total coverage </td> <td class='heading'> Code coverage
    </td> </tr> </thead> <tbody> <tr class='light'> <td> <a
    href='test_polynomial_rb.html'> test_polynomial.rb </a> </td> <td
    class='lines_total'> <tt> 374 </tt> </td> <td class='lines_code'> <tt> 324
    </tt> </td> <td> <table cellspacing='0' align='right' cellpadding='0'> <tr>
    <td> <tt class='coverage_total'> 100.0% </tt> &nbsp; </td> <td> <table
    class='percent_graph' cellspacing='0' cellpadding='0' width='100'> <tr> <td
    class='covered' width='100' /> <td class='uncovered' width='0' /> </tr>
    </table> </td> </tr> </table> </td> <td> <table cellspacing='0'
    align='right' cellpadding='0'> <tr> <td> <tt class='coverage_code'> 100.0%
    </tt> &nbsp; </td> <td> <table class='percent_graph' cellspacing='0'
    cellpadding='0' width='100'> <tr> <td class='covered' width='100' /> <td
    class='uncovered' width='0' /> </tr> </table> </td> </tr> </table> </td>
    </tr> </tbody> </table><pre><span class="marked1"><a name="line1"></a> 1
    require File.dirname(__FILE__) + '/test_helper.rb' </span><span
    class="marked0"><a name="line2"></a> 2 require 'complex' </span><span
    class="marked1"><a name="line3"></a> 3 require 'bigdecimal' </span><span
    class="inferred0"><a name="line4"></a> 4 </span><span class="marked1"><a
    name="line5"></a> 5 Poly = Polynomial </span><span class="inferred0"><a
    name="line6"></a> 6 </span><span class="marked1"><a name="line7"></a> 7
    class TestPoly &lt; Test::Unit::TestCase </span><span class="inferred0"><a
    name="line8"></a> 8 </span><span class="marked1"><a name="line9"></a> 9
    @@epsilon = 1e-7 </span><span class="inferred0"><a name="line10"></a> 10
    </span><span class="marked1"><a name="line11"></a> 11 def
    test_incorrect_initialization </span><span class="marked0"><a
    name="line12"></a> 12 assert_raise(ArgumentError) { Poly.new } </span><span
    class="marked1"><a name="line13"></a> 13 assert_raise(ArgumentError) {
    Poly.new [] } </span><span class="marked0"><a name="line14"></a> 14
    assert_raise(TypeError) { Poly.new :oops } </span><span class="marked1"><a
    name="line15"></a> 15 assert_raise(TypeError) { Poly.new ['foo'] }
    </span><span class="inferred0"><a name="line16"></a> 16 end </span><span
    class="inferred1"><a name="line17"></a> 17 </span><span class="marked0"><a
    name="line18"></a> 18 def test_new_from_coefficients </span><span
    class="marked1"><a name="line19"></a> 19 assert_nothing_raised { Poly.new 0
    } </span><span class="marked0"><a name="line20"></a> 20
    assert_nothing_raised { Poly.new [0] } </span><span class="marked1"><a
    name="line21"></a> 21 assert_nothing_raised { Poly.new [1,2] } </span><span
    class="marked0"><a name="line22"></a> 22 assert_nothing_raised { Poly.new
    [1, 2.2] } </span><span class="marked1"><a name="line23"></a> 23
    assert_nothing_raised { Poly.new [1, Complex(0,1)] } </span><span
    class="marked0"><a name="line24"></a> 24 assert_nothing_raised { Poly.new
    [1, BigDecimal('1e-2')] } </span><span class="marked1"><a name="line25"></a>
    25 assert_nothing_raised { Poly.new 1,2 } </span><span class="marked0"><a
    name="line26"></a> 26 assert_equal Poly.new(1,2), Poly.new([1,2])
    </span><span class="marked1"><a name="line27"></a> 27 assert_equal
    Poly.new(1), Poly.new(1,0) </span><span class="marked0"><a
    name="line28"></a> 28 assert_equal Poly.new(1), Poly.new([1,0,0])
    </span><span class="marked1"><a name="line29"></a> 29 assert_equal
    Poly.new(1,2,3), Poly[1,2,3] </span><span class="inferred0"><a
    name="line30"></a> 30 end </span><span class="inferred1"><a
    name="line31"></a> 31 </span><span class="marked0"><a name="line32"></a> 32
    def test_new_from_block </span><span class="marked1"><a name="line33"></a>
    33 assert_equal Poly.new(0,1,2), Poly.new(2) {|n| n } </span><span
    class="marked0"><a name="line34"></a> 34 assert_equal Poly.new(1,2,3),
    Poly.new(2) {|n| n+1 } </span><span class="marked1"><a name="line35"></a> 35
    assert_equal Poly.new(0,1,4,9), Poly.new(3) {|n| n**2 } </span><span
    class="marked0"><a name="line36"></a> 36 assert_equal Poly.new(3.2),
    Poly.new(3.2) {|n| n**2 } </span><span class="inferred1"><a
    name="line37"></a> 37 end </span><span class="inferred0"><a
    name="line38"></a> 38 </span><span class="marked1"><a name="line39"></a> 39
    def test_new_from_power_coefficients_hash </span><span class="marked0"><a
    name="line40"></a> 40 assert_equal Poly[0,2], Poly.new({1=&gt;2})
    </span><span class="marked1"><a name="line41"></a> 41 assert_equal
    Poly[0,0,3], Poly.new({2=&gt;3}) </span><span class="marked0"><a
    name="line42"></a> 42 assert_equal Poly[0,2,3], Poly[1=&gt;2, 2=&gt;3]
    </span><span class="inferred1"><a name="line43"></a> 43 end </span><span
    class="inferred0"><a name="line44"></a> 44 </span><span class="marked1"><a
    name="line45"></a> 45 def test_new_from_valid_strings </span><span
    class="marked0"><a name="line46"></a> 46 assert_equal Poly[0], Poly['0']
    </span><span class="marked1"><a name="line47"></a> 47 assert_equal Poly[1],
    Poly[' 1 '] </span><span class="marked0"><a name="line48"></a> 48
    assert_equal Poly[-1], Poly['-1'] </span><span class="marked1"><a
    name="line49"></a> 49 assert_equal Poly[-1.3], Poly['-1.3'] </span><span
    class="marked0"><a name="line50"></a> 50 assert_equal Poly[0,1], Poly['x']
    </span><span class="marked1"><a name="line51"></a> 51 assert_equal
    Poly[0,1], Poly['+x'] </span><span class="marked0"><a name="line52"></a> 52
    assert_equal Poly[0,1], Poly['+1x', {:multiplication_symbol=&gt;''}]
    </span><span class="marked1"><a name="line53"></a> 53 assert_equal
    Poly[1,1], Poly['1+x'] </span><span class="marked0"><a name="line54"></a> 54
    assert_equal Poly[1,1], Poly['1+1x', {:multiplication_symbol=&gt;''}]
    </span><span class="marked1"><a name="line55"></a> 55 assert_equal
    Poly[0,0,3], Poly['3*x**2'] </span><span class="marked0"><a
    name="line56"></a> 56 assert_equal Poly[0,0,1], Poly['x**2'] </span><span
    class="marked1"><a name="line57"></a> 57 assert_equal Poly[3,0,1],
    Poly['3+x**2'] </span><span class="marked0"><a name="line58"></a> 58
    assert_equal Poly[3,0,1], Poly['3+x^2', {:power_symbol=&gt;'^'}]
    </span><span class="marked1"><a name="line59"></a> 59 assert_equal
    Poly[3,2], Poly['3+2*x'] </span><span class="marked0"><a name="line60"></a>
    60 assert_equal Poly[2,1], Poly['2+y', {:variable_name=&gt;'y'}]
    </span><span class="marked1"><a name="line61"></a> 61 assert_equal
    Poly['4*x**2+2'], Poly[2,0,4] </span><span class="marked0"><a
    name="line62"></a> 62 assert_equal Poly[' 4*x**2 + 2 '], Poly[2,0,4]
    </span><span class="marked1"><a name="line63"></a> 63 assert_equal
    Poly[1,0,-7], Poly.from_string(&quot;1 - 7*x**2&quot;) </span><span
    class="marked0"><a name="line64"></a> 64 assert_equal Poly[3,4.1,5],
    Poly.from_string(&quot;3 + 4.1x + 5x^2&quot;, :multiplication_symbol=&gt;'',
    :power_symbol=&gt;'^') </span><span class="marked1"><a name="line65"></a> 65
    assert_equal Poly[0,-3], Poly.from_string(&quot;-3*y&quot;,
    :variable_name=&gt;'y') </span><span class="marked0"><a name="line66"></a>
    66 assert_equal Poly[1e-2], Poly.from_string('1e-2') </span><span
    class="marked1"><a name="line67"></a> 67 assert_equal Poly[0,1e-2],
    Poly.from_string('1e-2*x') </span><span class="marked0"><a
    name="line68"></a> 68 assert_equal Poly[BigDecimal('1.1')],
    Poly.from_string(BigDecimal('1.1').to_s) </span><span class="inferred1"><a
    name="line69"></a> 69 end </span><span class="inferred0"><a
    name="line70"></a> 70 </span><span class="marked1"><a name="line71"></a> 71
    def test_from_invalid_strings_misc </span><span class="marked0"><a
    name="line72"></a> 72 assert_raise(ArgumentError) { Poly[''] } </span><span
    class="marked1"><a name="line73"></a> 73 assert_raise(ArgumentError) {
    Poly['1..'] } </span><span class="marked0"><a name="line74"></a> 74
    assert_raise(ArgumentError) { Poly['1..1'] } </span><span class="marked1"><a
    name="line75"></a> 75 assert_raise(ArgumentError) { Poly['+'] } </span><span
    class="marked0"><a name="line76"></a> 76 assert_raise(ArgumentError) {
    Poly['++1'] } </span><span class="marked1"><a name="line77"></a> 77
    assert_raise(ArgumentError) { Poly['-+1'] } </span><span class="marked0"><a
    name="line78"></a> 78 assert_raise(ArgumentError) { Poly['--1'] }
    </span><span class="marked1"><a name="line79"></a> 79
    assert_raise(ArgumentError) { Poly['1-'] } </span><span class="marked0"><a
    name="line80"></a> 80 assert_raise(ArgumentError) { Poly['1.2-'] }
    </span><span class="marked1"><a name="line81"></a> 81
    assert_raise(ArgumentError) { Poly['xx'] } </span><span class="marked0"><a
    name="line82"></a> 82 assert_raise(ArgumentError) { Poly['xx**2'] }
    </span><span class="marked1"><a name="line83"></a> 83
    assert_raise(ArgumentError) { Poly['x*x'] } </span><span class="marked0"><a
    name="line84"></a> 84 assert_raise(ArgumentError) { Poly['x**x'] }
    </span><span class="marked1"><a name="line85"></a> 85
    assert_raise(ArgumentError) { Poly['2**3'] } </span><span class="marked0"><a
    name="line86"></a> 86 assert_raise(ArgumentError) { Poly['x**3*4'] }
    </span><span class="marked1"><a name="line87"></a> 87
    assert_raise(ArgumentError) { Poly['e2'] } </span><span class="marked0"><a
    name="line88"></a> 88 assert_raise(ArgumentError) { Poly['1e--2'] }
    </span><span class="marked1"><a name="line89"></a> 89
    assert_raise(ArgumentError) { Poly['1ee2'] } </span><span
    class="inferred0"><a name="line90"></a> 90 end </span><span
    class="inferred1"><a name="line91"></a> 91 </span><span class="marked0"><a
    name="line92"></a> 92 def test_from_invalid_strings_incomplete </span><span
    class="marked1"><a name="line93"></a> 93 assert_raise(ArgumentError) {
    Poly['1+'] } </span><span class="marked0"><a name="line94"></a> 94
    assert_raise(ArgumentError) { Poly['1.2+'] } </span><span class="marked1"><a
    name="line95"></a> 95 assert_raise(ArgumentError) { Poly['1*'] }
    </span><span class="marked0"><a name="line96"></a> 96
    assert_raise(ArgumentError) { Poly['1.2*'] } </span><span class="marked1"><a
    name="line97"></a> 97 assert_raise(ArgumentError) { Poly['2*x**'] }
    </span><span class="inferred0"><a name="line98"></a> 98 end </span><span
    class="inferred1"><a name="line99"></a> 99 </span><span class="marked0"><a
    name="line100"></a>100 def test_from_invalid_strings_symbol_omission
    </span><span class="marked1"><a name="line101"></a>101
    assert_raise(ArgumentError) { Poly['1x'] } </span><span class="marked0"><a
    name="line102"></a>102 assert_raise(ArgumentError) { Poly['1.2x'] }
    </span><span class="marked1"><a name="line103"></a>103
    assert_raise(ArgumentError) { Poly['2*x3'] } </span><span
    class="inferred0"><a name="line104"></a>104 end </span><span
    class="inferred1"><a name="line105"></a>105 </span><span class="marked0"><a
    name="line106"></a>106 def test_from_invalid_strings_spaces </span><span
    class="marked1"><a name="line107"></a>107 assert_raise(ArgumentError) {
    Poly['1 * x'] } </span><span class="marked0"><a name="line108"></a>108
    assert_raise(ArgumentError) { Poly['1 *x'] } </span><span class="marked1"><a
    name="line109"></a>109 assert_raise(ArgumentError) { Poly['1* x'] }
    </span><span class="marked0"><a name="line110"></a>110
    assert_raise(ArgumentError) { Poly['1*x ** 2'] } </span><span
    class="marked1"><a name="line111"></a>111 assert_raise(ArgumentError) {
    Poly['1*x **2'] } </span><span class="marked0"><a name="line112"></a>112
    assert_raise(ArgumentError) { Poly['1*x** 2'] } </span><span
    class="inferred1"><a name="line113"></a>113 end </span><span
    class="inferred0"><a name="line114"></a>114 </span><span class="marked1"><a
    name="line115"></a>115 def test_from_string_repeated </span><span
    class="marked0"><a name="line116"></a>116 assert_equal Poly['1+2'], Poly[3]
    </span><span class="marked1"><a name="line117"></a>117 assert_equal
    Poly['x+3*x'], Poly[0,4] </span><span class="marked0"><a
    name="line118"></a>118 assert_equal Poly['1+x+x**2+2*x**2'], Poly[1,1,3]
    </span><span class="inferred1"><a name="line119"></a>119 end </span><span
    class="inferred0"><a name="line120"></a>120 </span><span class="marked1"><a
    name="line121"></a>121 def test_substitute </span><span class="marked0"><a
    name="line122"></a>122 poly = Poly.new 0 </span><span class="marked1"><a
    name="line123"></a>123 pairs = [[0,0], [1,0], [-1,0], [2,0], [0.33, 0]]
    </span><span class="marked0"><a name="line124"></a>124
    assert_in_out_pairs(poly, pairs) </span><span class="inferred1"><a
    name="line125"></a>125 </span><span class="marked0"><a
    name="line126"></a>126 poly = Poly.new 0, 1 </span><span class="marked1"><a
    name="line127"></a>127 pairs = [[0,0], [1,1], [-1,-1], [2,2], [0.33, 0.33]]
    </span><span class="marked0"><a name="line128"></a>128
    assert_in_out_pairs(poly, pairs) </span><span class="inferred1"><a
    name="line129"></a>129 </span><span class="marked0"><a
    name="line130"></a>130 poly = Poly.new 0, 0, 1 </span><span
    class="marked1"><a name="line131"></a>131 pairs = [[0,0], [1,1], [-1,1],
    [2,4], [0.33, 0.33**2]] </span><span class="marked0"><a
    name="line132"></a>132 assert_in_out_pairs(poly, pairs) </span><span
    class="inferred1"><a name="line133"></a>133 </span><span class="marked0"><a
    name="line134"></a>134 poly = Poly.new 1, 1 </span><span class="marked1"><a
    name="line135"></a>135 pairs = [[0,1], [1,2], [-1,0], [2,3], [0.33, 1.33]]
    </span><span class="marked0"><a name="line136"></a>136
    assert_in_out_pairs(poly, pairs) </span><span class="inferred1"><a
    name="line137"></a>137 </span><span class="marked0"><a
    name="line138"></a>138 poly = Poly.new 1, -1 </span><span class="marked1"><a
    name="line139"></a>139 pairs = [[0,1], [1,0], [-1,2], [2,-1], [0.33,
    1-0.33]] </span><span class="marked0"><a name="line140"></a>140
    assert_in_out_pairs(poly, pairs) </span><span class="inferred1"><a
    name="line141"></a>141 </span><span class="marked0"><a
    name="line142"></a>142 poly = Poly.new Complex(0,1), 1 </span><span
    class="marked1"><a name="line143"></a>143 pairs = [[0,Complex(0,1)],
    [1,Complex(1,1)], [-1,Complex(-1,1)], [2,Complex(2,1)], [0.33,
    Complex(0.33,1)]] </span><span class="marked0"><a name="line144"></a>144
    assert_in_out_pairs(poly, pairs) </span><span class="inferred1"><a
    name="line145"></a>145 end </span><span class="inferred0"><a
    name="line146"></a>146 </span><span class="marked1"><a
    name="line147"></a>147 def test_degree </span><span class="marked0"><a
    name="line148"></a>148 assert_equal 0, Poly[0].degree </span><span
    class="marked1"><a name="line149"></a>149 assert_equal 0, Poly[1].degree
    </span><span class="marked0"><a name="line150"></a>150 assert_equal 1,
    Poly[1,2].degree </span><span class="marked1"><a name="line151"></a>151
    assert_equal 1, Poly[0,-1].degree </span><span class="marked0"><a
    name="line152"></a>152 assert_equal 2, Poly[1,0,1].degree </span><span
    class="inferred1"><a name="line153"></a>153 end </span><span
    class="inferred0"><a name="line154"></a>154 </span><span class="marked1"><a
    name="line155"></a>155 def test_multiplication </span><span
    class="marked0"><a name="line156"></a>156 assert_equal Poly[0], Poly[1] * 0
    </span><span class="marked1"><a name="line157"></a>157 assert_equal Poly[0],
    0 * Poly[1] </span><span class="marked0"><a name="line158"></a>158
    assert_equal Poly[1], Poly[1] * 1 </span><span class="marked1"><a
    name="line159"></a>159 assert_equal Poly[1], 1 * Poly[1] </span><span
    class="marked0"><a name="line160"></a>160 assert_equal Poly[2], Poly[1] * 2
    </span><span class="marked1"><a name="line161"></a>161 assert_equal Poly[2],
    Poly[1] * Poly[2] </span><span class="marked0"><a name="line162"></a>162
    assert_equal Poly[2,4,6], Poly[1,2,3] * 2 </span><span class="marked1"><a
    name="line163"></a>163 assert_equal Poly[2,4,6], 2 * Poly[1,2,3]
    </span><span class="marked0"><a name="line164"></a>164 assert_equal
    Poly[0,0,1,2], Poly[0,1,2] * Poly[0,1] </span><span class="inferred1"><a
    name="line165"></a>165 end </span><span class="inferred0"><a
    name="line166"></a>166 </span><span class="marked1"><a
    name="line167"></a>167 def test_division_by_numeric </span><span
    class="marked0"><a name="line168"></a>168 assert_equal Poly[0], Poly[0] / 1
    </span><span class="marked1"><a name="line169"></a>169 assert_equal Poly[1],
    Poly[1] / 1 </span><span class="marked0"><a name="line170"></a>170
    assert_equal Poly[0.5], Poly[1] / 2 </span><span class="marked1"><a
    name="line171"></a>171 assert_equal Poly[0.5], Poly[1] / 2.0 </span><span
    class="marked0"><a name="line172"></a>172 assert_equal Poly[1,2,3],
    Poly[2,4,6] / 2 </span><span class="inferred1"><a name="line173"></a>173 end
    </span><span class="inferred0"><a name="line174"></a>174 </span><span
    class="marked1"><a name="line175"></a>175 def test_divmod </span><span
    class="marked0"><a name="line176"></a>176 assert_equal [Poly[3],
    Poly[-8,-4]], Poly[1,2,3].divmod(Poly[3,2,1]) </span><span
    class="marked1"><a name="line177"></a>177 assert_equal [Poly[0], Poly[1,2]],
    Poly[1,2].divmod(Poly[1,2,3]) </span><span class="marked0"><a
    name="line178"></a>178 assert_equal [Poly[-27,-9,1], Poly[-123]],
    Poly[-42,0,-12,1].divmod(Poly[-3,1]) </span><span class="marked1"><a
    name="line179"></a>179 assert_equal [Poly[4,6], Poly[2]],
    Poly[2,4,6].divmod(Poly[0,1]) </span><span class="marked0"><a
    name="line180"></a>180 assert_equal [Poly[1,2,3], 0], Poly[2,4,6].divmod(2)
    </span><span class="marked1"><a name="line181"></a>181
    assert_raise(ArgumentError) { Poly[1,2,3].divmod(:foo) } </span><span
    class="marked0"><a name="line182"></a>182 assert_raise(ArgumentError) {
    Poly[1,2,3].divmod(nil) } </span><span class="inferred1"><a
    name="line183"></a>183 end </span><span class="inferred0"><a
    name="line184"></a>184 </span><span class="marked1"><a
    name="line185"></a>185 def test_division_by_polynomial </span><span
    class="marked0"><a name="line186"></a>186 assert_equal Poly[2], Poly[2,4,6]
    / Poly[1,2,3] </span><span class="marked1"><a name="line187"></a>187
    assert_equal Poly[0.5], Poly[1,2,3] / Poly[2,4,6] </span><span
    class="marked0"><a name="line188"></a>188 assert_equal Poly[3], Poly[1,2,3]
    / Poly[3,2,1] </span><span class="marked1"><a name="line189"></a>189
    assert_equal Poly[1,2,3], Poly[2,4,6] / Poly[2] </span><span
    class="inferred0"><a name="line190"></a>190 end </span><span
    class="inferred1"><a name="line191"></a>191 </span><span class="marked0"><a
    name="line192"></a>192 @@quomod_data = [ </span><span class="marked1"><a
    name="line193"></a>193 [Poly[1,2,3], Poly[3,2,1], Poly[3], Poly[-8,-4]],
    </span><span class="marked0"><a name="line194"></a>194 [Poly[1,2],
    Poly[1,2,3], Poly[0], Poly[1,2]], </span><span class="marked1"><a
    name="line195"></a>195 [Poly[-42,0,-12,1], Poly[-3,1], Poly[-27,-9,1],
    Poly[-123]], </span><span class="marked0"><a name="line196"></a>196
    [Poly[1,3.quo(2)], 2, Poly[1.quo(2), 3.quo(4)], 0], </span><span
    class="marked1"><a name="line197"></a>197 [Poly[2,4,6], Poly[0,3],
    Poly[4.quo(3),6.quo(3)], Poly[2]], </span><span class="marked0"><a
    name="line198"></a>198 [Poly[1,3.quo(2)], Poly[2], Poly[1.quo(2), 3.quo(4)],
    0], </span><span class="marked1"><a name="line199"></a>199 [Poly[2,4,6], 2,
    Poly[1,2,3], 0], </span><span class="inferred0"><a name="line200"></a>200 ]
    </span><span class="marked1"><a name="line201"></a>201 def test_quomod
    </span><span class="marked0"><a name="line202"></a>202 @@quomod_data.each do
    |dividend, divisor, quotient, rest| </span><span class="marked1"><a
    name="line203"></a>203 assert_equal [quotient, rest],
    dividend.quomod(divisor) </span><span class="inferred0"><a
    name="line204"></a>204 end </span><span class="marked1"><a
    name="line205"></a>205 assert_raise(ArgumentError) {
    Poly[1,2,3].quomod(:foo) } </span><span class="marked0"><a
    name="line206"></a>206 assert_raise(ArgumentError) { Poly[1,2,3].quomod(nil)
    } </span><span class="inferred1"><a name="line207"></a>207 end </span><span
    class="inferred0"><a name="line208"></a>208 </span><span class="marked1"><a
    name="line209"></a>209 def test_quo_by_numeric </span><span
    class="marked0"><a name="line210"></a>210 assert_equal Poly[1.quo(2),
    3.quo(4)], Poly[1,3.quo(2)].quo(2) </span><span class="marked1"><a
    name="line211"></a>211 assert_equal Poly[1/2.0, 3.quo(2)/2.0],
    Poly[1,3.quo(2)].quo(2.0) </span><span class="inferred0"><a
    name="line212"></a>212 end </span><span class="inferred1"><a
    name="line213"></a>213 </span><span class="marked0"><a
    name="line214"></a>214 def test_quo_by_polynomial </span><span
    class="marked1"><a name="line215"></a>215 assert_equal
    Poly[4.quo(3),6.quo(3)], Poly[2,4,6].quo(Poly[0,3]) </span><span
    class="marked0"><a name="line216"></a>216 assert_equal Poly[1.quo(2),
    3.quo(4)], Poly[1,3.quo(2)].quo(2) </span><span class="inferred1"><a
    name="line217"></a>217 end </span><span class="inferred0"><a
    name="line218"></a>218 </span><span class="marked1"><a
    name="line219"></a>219 def test_remainder </span><span class="marked0"><a
    name="line220"></a>220 @@quomod_data.each do |dividend, divisor, quotient,
    rest| </span><span class="marked1"><a name="line221"></a>221 assert_equal
    rest, dividend % divisor </span><span class="inferred0"><a
    name="line222"></a>222 end </span><span class="inferred1"><a
    name="line223"></a>223 end </span><span class="inferred0"><a
    name="line224"></a>224 </span><span class="marked1"><a
    name="line225"></a>225 @@power_data = [ </span><span class="marked0"><a
    name="line226"></a>226 [Polynomial[1], 0, Polynomial[1]], </span><span
    class="marked1"><a name="line227"></a>227 [Polynomial[1], 1, Polynomial[1]],
    </span><span class="marked0"><a name="line228"></a>228 [Polynomial[1], 2,
    Polynomial[1]], </span><span class="marked1"><a name="line229"></a>229
    [Polynomial[0,1], 1, Polynomial[0,1]], </span><span class="marked0"><a
    name="line230"></a>230 [Polynomial[0,1], 2, Polynomial[0,0,1]], </span><span
    class="marked1"><a name="line231"></a>231 [Polynomial[3,4], 2,
    Polynomial[9,24,16]], </span><span class="inferred0"><a
    name="line232"></a>232 ] </span><span class="marked1"><a
    name="line233"></a>233 def test_power </span><span class="marked0"><a
    name="line234"></a>234 @@power_data.each do |polynomial, power, result|
    </span><span class="marked1"><a name="line235"></a>235 assert_equal result,
    polynomial**power </span><span class="inferred0"><a name="line236"></a>236
    end </span><span class="marked1"><a name="line237"></a>237
    assert_raise(ArgumentError) { Poly[1,2,3]**(-1) } </span><span
    class="marked0"><a name="line238"></a>238 assert_raise(NoMethodError) {
    Poly[1,2,3]**(1.1) } </span><span class="inferred1"><a
    name="line239"></a>239 # Exceptions raised in Ruby 1.8 and 1.9 are different
    for the following </span><span class="marked0"><a name="line240"></a>240
    assert_raise(ArgumentError, NoMethodError) { Poly[1,2,3]**(:foo) }
    </span><span class="inferred1"><a name="line241"></a>241 end </span><span
    class="inferred0"><a name="line242"></a>242 </span><span class="marked1"><a
    name="line243"></a>243 def test_addition </span><span class="marked0"><a
    name="line244"></a>244 assert_equal Poly[1], Poly[1] + 0 </span><span
    class="marked1"><a name="line245"></a>245 assert_equal Poly[2], Poly[1] + 1
    </span><span class="marked0"><a name="line246"></a>246 assert_equal
    Poly[1,1], Poly[1] + Poly[0,1] </span><span class="marked1"><a
    name="line247"></a>247 assert_equal Poly[2,3,4], Poly[2] + Poly[0,3,4]
    </span><span class="inferred0"><a name="line248"></a>248 end </span><span
    class="inferred1"><a name="line249"></a>249 </span><span class="marked0"><a
    name="line250"></a>250 def test_subtraction </span><span class="marked1"><a
    name="line251"></a>251 assert_equal Poly[1], Poly[1] - 0 </span><span
    class="marked0"><a name="line252"></a>252 assert_equal Poly[0], Poly[1] - 1
    </span><span class="marked1"><a name="line253"></a>253 assert_equal
    Poly[1,-1], Poly[1] - Poly[0,1] </span><span class="marked0"><a
    name="line254"></a>254 assert_equal Poly[2,-3,-4], Poly[2] - Poly[0,3,4]
    </span><span class="inferred1"><a name="line255"></a>255 end </span><span
    class="inferred0"><a name="line256"></a>256 </span><span class="marked1"><a
    name="line257"></a>257 def test_to_s </span><span class="marked0"><a
    name="line258"></a>258 assert_equal &quot;1&quot;, Poly[1].to_s </span><span
    class="marked1"><a name="line259"></a>259 assert_equal &quot;x&quot;,
    Poly[0,1].to_s </span><span class="marked0"><a name="line260"></a>260
    assert_equal &quot;1 + x&quot;, Poly[1,Complex(1,0)].to_s </span><span
    class="marked1"><a name="line261"></a>261 assert_equal &quot;0 + x&quot;,
    Poly[0,1].to_s(:verbose=&gt;true) </span><span class="marked0"><a
    name="line262"></a>262 assert_equal &quot;1 - 2*x + 3*x**2&quot;,
    Poly[1,-2,3].to_s </span><span class="marked1"><a name="line263"></a>263
    assert_equal &quot;3*x**2 - 2*x + 1&quot;,
    Poly[1,-2,3].to_s(:decreasing=&gt;true) </span><span class="marked0"><a
    name="line264"></a>264 assert_equal &quot;1 + 0*x + 3*x**2&quot;,
    Poly[1,0,3].to_s(:verbose=&gt;true) </span><span class="marked1"><a
    name="line265"></a>265 assert_equal &quot;-1 - 3*x^2&quot;,
    Poly[-1,0,-3].to_s(:power_symbol=&gt;'^') </span><span class="marked0"><a
    name="line266"></a>266 assert_equal &quot;-1*y - 3*y**2&quot;,
    Poly[0,-1,-3].to_s(:variable_name=&gt;'y') </span><span class="marked1"><a
    name="line267"></a>267 assert_equal &quot;0+x&quot;,
    Poly[0,1].to_s(:verbose=&gt;true, :spaced=&gt;false) </span><span
    class="marked0"><a name="line268"></a>268 assert_equal
    &quot;1-2*x+3*x**2&quot;, Poly[1,-2,3].to_s(:spaced=&gt;false) </span><span
    class="marked1"><a name="line269"></a>269 assert_equal
    &quot;1+0*x+3*x**2&quot;, Poly[1,0,3].to_s(:verbose=&gt;true,
    :spaced=&gt;false) </span><span class="marked0"><a name="line270"></a>270
    assert_equal &quot;-1-3*x^2&quot;, Poly[-1,0,-3].to_s(:power_symbol=&gt;'^',
    :spaced=&gt;false) </span><span class="inferred1"><a name="line271"></a>271
    </span><span class="inferred0"><a name="line272"></a>272 # Complex#to_s
    results in Ruby 1.8 and 1.9 are different </span><span class="marked1"><a
    name="line273"></a>273 assert [&quot;1 + (0 + 1i)*x&quot;, &quot;1 +
    1i*x&quot;].include?(Poly[1,Complex(0,1)].to_s) </span><span
    class="inferred0"><a name="line274"></a>274 </span><span class="marked1"><a
    name="line275"></a>275 assert_equal &quot;1 + (1 + 1i)*x&quot;,
    Poly[1,Complex(1,1)].to_s </span><span class="marked0"><a
    name="line276"></a>276 assert_equal &quot;1 + x&quot;,
    Poly[1,Complex(1,0)].to_s </span><span class="marked1"><a
    name="line277"></a>277 assert_equal &quot;-3.33694235763727e-05&quot;,
    Poly[-3.33694235763727e-05].to_s </span><span class="marked0"><a
    name="line278"></a>278 assert_equal &quot;1 + 3.33694235763727e-05*x&quot;,
    Poly[1,3.33694235763727e-05].to_s </span><span class="marked1"><a
    name="line279"></a>279 assert_equal &quot;1 + (2/3)*x&quot;,
    Poly[1,2.quo(3)].to_s </span><span class="marked0"><a name="line280"></a>280
    assert_equal &quot;(-1/2) + (3/2)*x**2&quot;, Poly[-1.quo(2), 0,
    3.quo(2)].to_s </span><span class="inferred1"><a name="line281"></a>281 end
    </span><span class="inferred0"><a name="line282"></a>282 </span><span
    class="marked1"><a name="line283"></a>283 def test_to_i </span><span
    class="marked0"><a name="line284"></a>284 assert_raise(ArgumentError) {
    Poly[1,2].to_i } </span><span class="marked1"><a name="line285"></a>285
    assert_equal 0, Poly[0].to_i </span><span class="marked0"><a
    name="line286"></a>286 assert_equal 3, Poly[3].to_i </span><span
    class="marked1"><a name="line287"></a>287 assert_equal(-2, Poly[-2].to_i)
    </span><span class="marked0"><a name="line288"></a>288 assert_equal 3,
    Poly[3.3].to_i </span><span class="inferred1"><a name="line289"></a>289 end
    </span><span class="inferred0"><a name="line290"></a>290 </span><span
    class="marked1"><a name="line291"></a>291 def test_to_f </span><span
    class="marked0"><a name="line292"></a>292 assert_raise(ArgumentError) {
    Poly[1,2].to_f } </span><span class="marked1"><a name="line293"></a>293
    assert_equal 0.0, Poly[0].to_f </span><span class="marked0"><a
    name="line294"></a>294 assert_equal 3.1, Poly[3.1].to_f </span><span
    class="marked1"><a name="line295"></a>295 assert_equal(-2.2,
    Poly[-2.2].to_f) </span><span class="inferred0"><a name="line296"></a>296
    end </span><span class="inferred1"><a name="line297"></a>297 </span><span
    class="marked0"><a name="line298"></a>298 def test_integral </span><span
    class="marked1"><a name="line299"></a>299 assert_equal Poly[0],
    Poly[0].integral </span><span class="marked0"><a name="line300"></a>300
    assert_equal Poly[0,1], Poly[1].integral </span><span class="marked1"><a
    name="line301"></a>301 assert_equal Poly[0,1], Poly[1].integral </span><span
    class="marked0"><a name="line302"></a>302 assert_equal Poly[0,1,1/2.0],
    Poly[1,1].integral </span><span class="marked1"><a name="line303"></a>303
    assert_equal Poly[0,1,1/2.0,1/3.0], Poly[1,1,1].integral </span><span
    class="inferred0"><a name="line304"></a>304 end </span><span
    class="inferred1"><a name="line305"></a>305 </span><span class="marked0"><a
    name="line306"></a>306 def test_derivative </span><span class="marked1"><a
    name="line307"></a>307 assert_equal Poly[0], Poly[0].derivative </span><span
    class="marked0"><a name="line308"></a>308 assert_equal Poly[0],
    Poly[1].derivative </span><span class="marked1"><a name="line309"></a>309
    assert_equal Poly[0], Poly[2].derivative </span><span class="marked0"><a
    name="line310"></a>310 assert_equal Poly[1], Poly[0,1].derivative
    </span><span class="marked1"><a name="line311"></a>311 assert_equal
    Poly[1,2], Poly[1,1,1].derivative </span><span class="inferred0"><a
    name="line312"></a>312 end </span><span class="inferred1"><a
    name="line313"></a>313 </span><span class="marked0"><a
    name="line314"></a>314 def test_derivatives </span><span class="marked1"><a
    name="line315"></a>315 z = Poly[0] </span><span class="marked0"><a
    name="line316"></a>316 assert_equal [z], z.derivatives </span><span
    class="marked1"><a name="line317"></a>317 assert_equal [Poly[1], z],
    Poly[0,1].derivatives </span><span class="marked0"><a name="line318"></a>318
    assert_equal [Poly[2], z], Poly[1,2].derivatives </span><span
    class="marked1"><a name="line319"></a>319 assert_equal [Poly[4,10],
    Poly[10], z], Poly[3,4,5].derivatives </span><span class="marked0"><a
    name="line320"></a>320 assert_equal [Poly[2,6,12], Poly[6,24], Poly[24], z],
    Poly[1,2,3,4].derivatives </span><span class="inferred1"><a
    name="line321"></a>321 end </span><span class="inferred0"><a
    name="line322"></a>322 </span><span class="marked1"><a
    name="line323"></a>323 def test_integral_derivative_cascading </span><span
    class="marked0"><a name="line324"></a>324 coefs = Array.new(16) { rand }
    </span><span class="marked1"><a name="line325"></a>325 assert
    Poly[coefs].equal_in_delta Poly[coefs].integral.derivative, @@epsilon
    </span><span class="marked0"><a name="line326"></a>326 assert Poly[0,
    *coefs[1..-1]].equal_in_delta Poly[coefs].derivative.integral, @@epsilon
    </span><span class="inferred1"><a name="line327"></a>327 end </span><span
    class="inferred0"><a name="line328"></a>328 </span><span class="marked1"><a
    name="line329"></a>329 def test_equal_in_delta </span><span
    class="marked0"><a name="line330"></a>330 assert
    Poly[0].equal_in_delta(Poly[@@epsilon], @@epsilon) </span><span
    class="marked1"><a name="line331"></a>331 assert
    Poly[1].equal_in_delta(Poly[1-@@epsilon], @@epsilon) </span><span
    class="marked0"><a name="line332"></a>332 assert
    Poly[-@@epsilon,@@epsilon].equal_in_delta(Poly[@@epsilon, -@@epsilon],
    2*@@epsilon) </span><span class="inferred1"><a name="line333"></a>333 end
    </span><span class="inferred0"><a name="line334"></a>334 </span><span
    class="marked1"><a name="line335"></a>335 def test_derivative_integral
    </span><span class="marked0"><a name="line336"></a>336 [ [0], [1], [0, 42],
    [1,11], [3,4,5] ].each do |coefs| </span><span class="marked1"><a
    name="line337"></a>337 poly = Poly.new(coefs) </span><span
    class="marked0"><a name="line338"></a>338 assert
    poly.equal_in_delta(poly.integral.derivative, @@epsilon) </span><span
    class="inferred1"><a name="line339"></a>339 end </span><span
    class="marked0"><a name="line340"></a>340 1.upto(10) do |n| </span><span
    class="marked1"><a name="line341"></a>341 poly = Poly.new( Array.new(n) {|m|
    2*m + rand } ) </span><span class="marked0"><a name="line342"></a>342 assert
    poly.equal_in_delta(poly.integral.derivative, @@epsilon) </span><span
    class="inferred1"><a name="line343"></a>343 end </span><span
    class="inferred0"><a name="line344"></a>344 end </span><span
    class="inferred1"><a name="line345"></a>345 </span><span class="marked0"><a
    name="line346"></a>346 def test_compare </span><span class="marked1"><a
    name="line347"></a>347 a = Poly[2] </span><span class="marked0"><a
    name="line348"></a>348 b = Poly[2,1] </span><span class="marked1"><a
    name="line349"></a>349 c = Poly[2,2] </span><span class="marked0"><a
    name="line350"></a>350 d = Poly[2,1,2] </span><span class="marked1"><a
    name="line351"></a>351 assert_equal [a,b,c,d], [d,b,c,a].sort </span><span
    class="marked0"><a name="line352"></a>352 assert_equal 0, Poly[0]
    </span><span class="marked1"><a name="line353"></a>353 assert_equal Poly[1],
    1 </span><span class="marked0"><a name="line354"></a>354 assert_equal
    Poly[0.5], 0.5 </span><span class="marked1"><a name="line355"></a>355
    assert_equal 0.5, Poly[0.5] </span><span class="marked0"><a
    name="line356"></a>356 assert_not_equal 1, Poly[1,2] </span><span
    class="marked1"><a name="line357"></a>357 assert_raise(TypeError) { Poly[1]
    &lt;=&gt; 'foo' } </span><span class="inferred0"><a name="line358"></a>358
    end </span><span class="inferred1"><a name="line359"></a>359 </span><span
    class="marked0"><a name="line360"></a>360 def test_coerce </span><span
    class="marked1"><a name="line361"></a>361 assert_equal [Poly[2],Poly[1]],
    Poly[1].coerce(2) </span><span class="marked0"><a name="line362"></a>362
    assert_equal [Poly[2],Poly[1]], Poly[1].coerce(Poly[2]) </span><span
    class="marked1"><a name="line363"></a>363 assert_raise(TypeError) {
    Poly[1].coerce('foo') } </span><span class="inferred0"><a
    name="line364"></a>364 end </span><span class="inferred1"><a
    name="line365"></a>365 </span><span class="inferred0"><a
    name="line366"></a>366 # HELPER FUNCTIONS </span><span class="inferred1"><a
    name="line367"></a>367 </span><span class="marked0"><a
    name="line368"></a>368 def assert_in_out_pairs(polynomial,
    input_output_pairs, delta=@@epsilon) </span><span class="marked1"><a
    name="line369"></a>369 input_output_pairs.each do |x, y| </span><span
    class="marked0"><a name="line370"></a>370 assert_equal y,
    polynomial.substitute(x) </span><span class="inferred1"><a
    name="line371"></a>371 end </span><span class="inferred0"><a
    name="line372"></a>372 end </span><span class="inferred1"><a
    name="line373"></a>373 </span><span class="inferred0"><a
    name="line374"></a>374 end </span></pre>
    <hr />
    <p> Generated using the <a href='http://eigenclass.org/hiki.rb?rcov'> rcov
    code coverage analysis tool for Ruby </a> version 0.8.1.2. </p>
    <p>
      <a href='http://validator.w3.org/check/referer'>
        <img src='http://www.w3.org/Icons/valid-xhtml10' height='31' alt='Valid XHTML 1.0!' width='88' />
      </a>
      <a href='http://jigsaw.w3.org/css-validator/check/referer'>
        <img src='http://jigsaw.w3.org/css-validator/images/vcss' alt='Valid CSS!' style='border:0;width:88px;height:31px' />
      </a>
    </p>
  </body>
</html>
